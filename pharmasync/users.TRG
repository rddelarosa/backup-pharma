TYPE=TRIGGERS
triggers='CREATE DEFINER=`root`@`localhost` TRIGGER set_email_notif_on_insert\nBEFORE INSERT ON users\nFOR EACH ROW\nBEGIN\n  IF NEW.google_id IS NOT NULL AND NEW.google_id != \'\' THEN\n    SET NEW.email_notif = 1;\n  END IF;\nEND' 'CREATE DEFINER=`root`@`localhost` TRIGGER before_insert_user\nBEFORE INSERT ON users\nFOR EACH ROW\nBEGIN\n    IF NEW.email_notif = 1 THEN\n        SET NEW.remind_pre = 1;\n    ELSE\n        SET NEW.remind_pre = 0;\n    END IF;\nEND' 'CREATE DEFINER=`root`@`localhost` TRIGGER set_email_notif_on_update\nBEFORE UPDATE ON users\nFOR EACH ROW\nBEGIN\n  IF NEW.google_id IS NOT NULL AND NEW.google_id != \'\' AND \n     (OLD.google_id IS NULL OR OLD.google_id = \'\') THEN\n    SET NEW.email_notif = 1;\n  END IF;\nEND' 'CREATE DEFINER=`root`@`localhost` TRIGGER before_update_user\nBEFORE UPDATE ON users\nFOR EACH ROW\nBEGIN\n    -- If email_notif is 0, set remind_pre to 0\n    IF NEW.email_notif = 0 THEN\n        SET NEW.remind_pre = 0;\n    END IF;\n    -- If email_notif is 1, allow remind_pre to be either 0 or 1 (you can manually change it)\n    IF NEW.email_notif = 1 THEN\n        -- Don\'t change remind_pre, you can update it manually if needed\n        IF NEW.remind_pre IS NULL THEN\n            SET NEW.remind_pre = 1;  -- Default remind_pre to 1 when email_notif is 1\n        END IF;\n    END IF;\nEND'
sql_modes=1098907648 1098907648 1098907648 1098907648
definers='root@localhost' 'root@localhost' 'root@localhost' 'root@localhost'
client_cs_names='utf8mb4' 'utf8mb4' 'utf8mb4' 'utf8mb4'
connection_cl_names='utf8mb4_unicode_ci' 'utf8mb4_unicode_ci' 'utf8mb4_unicode_ci' 'utf8mb4_unicode_ci'
db_cl_names='utf8mb4_general_ci' 'utf8mb4_general_ci' 'utf8mb4_general_ci' 'utf8mb4_general_ci'
created=1745398927678581 1745399090026205 1745398947680272 1745399204777501
